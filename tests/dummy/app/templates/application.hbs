{{outlet}}

<h2>PlUpload Test</h2>
<hr>
{{#with (upload-queue for="images"
                      accept="image/jpeg, image/gif, image/png")
                      onfileadd=(action "uploadImage") as |queue|}}
  {{#file-dropzone queue=queue style="width: 80%; height: 100px; border: 2px dashed gray; padding: 0 20px" as |dropzone|}}
    {{#if dropzone.active}}
      {{#if dropzone.valid}}
        Drop to upload
      {{else}}
        Invalid
      {{/if}}
    {{else if queue.length}}
      Uploading {{queue.length}} files. ({{queue.progress}}%)
    {{else}}
      <h4>Upload Images</h4>
      <p>
        {{#if dropzone.active}}
          Drag and drop images onto this area to upload them or
        {{/if}}
        {{#file-upload queue=queue}}
          <a id="upload-image">Add an Image.</a>
        {{/file-upload}}
      </p>
    {{/if}}
  </div>
{{/with}}

<h4>Events</h4>
<ul>
  {{#each events as |event|}}
    <li><img src={{event.preview}} style="max-width: 100px; max-height: 100px">{{event.filename}}</li>
  {{/each}}
</ul>
